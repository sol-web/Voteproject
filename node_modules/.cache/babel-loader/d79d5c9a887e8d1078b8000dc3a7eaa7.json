{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anci\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\webappsec2\\\\Vote_BlockChain\\\\client\\\\src\\\\screens\\\\HomeScreen.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport useEth from \"../contexts/EthContext/useEth\";\nimport ElectionCard from \"../components/ElectionCard\";\nimport PropTypes from \"prop-types\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Grid from \"@mui/material/Grid\";\nimport Stack from \"@mui/material/Stack\";\nimport Typography from \"@mui/material/Typography\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nHomeScreen.propTypes = {\n  color: PropTypes.string\n};\nfunction HomeScreen({\n  color = \"primary\"\n}) {\n  _s();\n  const {\n    state: {\n      contract,\n      accounts\n    }\n  } = useEth();\n  const [elections, setElections] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const getElections = async () => {\n      if (contract) {\n        const elections = await contract.methods.getElections().call({\n          from: accounts[0]\n        });\n        setElections(elections);\n        setLoading(false);\n      }\n    };\n    getElections();\n  }, [contract, accounts]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: 100,\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Backdrop, {\n        open: true,\n        sx: {\n          color: \"#fff\",\n          zIndex: theme => theme.zIndex.drawer + 1\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(CircularProgress, {\n            color: \"inherit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 8\n          }, this), !contract && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Please ensure that metamask is unlocked and Polygon's Mumbai testnet is selected...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Stack, {\n        marginTop: 5,\n        direction: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            sx: {\n              color: theme => theme.palette[color].darker\n            },\n            children: [\" \", \"All Elections\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/elections/new/\",\n            style: {\n              textDecoration: \"none\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              size: \"large\",\n              children: \"Add Election\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 6\n      }, this), elections.length === 0 && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          height: \"70vh\",\n          color: theme => theme.palette[color].darker\n        },\n        children: \"There are no elections to display right now.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }, this), elections.length > 0 && /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        my: 4,\n        spacing: 2,\n        mb: 4,\n        children: elections.map((election, index) => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 6,\n          lg: 6,\n          xl: 6,\n          children: /*#__PURE__*/_jsxDEV(ElectionCard, {\n            id: index,\n            title: election\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 10\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 3\n  }, this);\n}\n_s(HomeScreen, \"KT2vnkUxpbwPTxWLraxsTj0bdC4=\", false, function () {\n  return [useEth];\n});\n_c = HomeScreen;\nexport default HomeScreen;\nvar _c;\n$RefreshReg$(_c, \"HomeScreen\");","map":{"version":3,"names":["React","useState","useEffect","Link","useEth","ElectionCard","PropTypes","Backdrop","Box","Button","CircularProgress","Grid","Stack","Typography","jsxDEV","_jsxDEV","HomeScreen","propTypes","color","string","_s","state","contract","accounts","elections","setElections","loading","setLoading","getElections","methods","call","from","children","style","margin","textAlign","open","sx","zIndex","theme","drawer","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","direction","justifyContent","alignItems","spacing","variant","palette","darker","to","textDecoration","size","length","display","height","container","my","mb","map","election","index","item","xs","sm","md","lg","xl","id","title","_c","$RefreshReg$"],"sources":["C:/Users/anci/OneDrive/바탕 화면/webappsec2/Vote_BlockChain/client/src/screens/HomeScreen.jsx"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport useEth from \"../contexts/EthContext/useEth\";\nimport ElectionCard from \"../components/ElectionCard\";\nimport PropTypes from \"prop-types\";\n\nimport Backdrop from \"@mui/material/Backdrop\";\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Grid from \"@mui/material/Grid\";\nimport Stack from \"@mui/material/Stack\";\nimport Typography from \"@mui/material/Typography\";\n\nHomeScreen.propTypes = {\n\tcolor: PropTypes.string,\n};\n\nfunction HomeScreen({ color = \"primary\" }) {\n\tconst {\n\t\tstate: { contract, accounts },\n\t} = useEth();\n\tconst [elections, setElections] = useState([]);\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tconst getElections = async () => {\n\t\t\tif (contract) {\n\t\t\t\tconst elections = await contract.methods\n\t\t\t\t\t.getElections()\n\t\t\t\t\t.call({ from: accounts[0] });\n\t\t\t\tsetElections(elections);\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t};\n\t\tgetElections();\n\t}, [contract, accounts]);\n\n\treturn (\n\t\t<Box>\n\t\t\t{loading ? (\n\t\t\t\t<div style={{ margin: 100, textAlign: \"center\" }}>\n\t\t\t\t\t<Backdrop\n\t\t\t\t\t\topen={true}\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tcolor: \"#fff\",\n\t\t\t\t\t\t\tzIndex: (theme) => theme.zIndex.drawer + 1,\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{!contract && (\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tPlease ensure that metamask is unlocked and\n\t\t\t\t\t\t\t\t\tPolygon's Mumbai testnet is selected...\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Backdrop>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<Box>\n\t\t\t\t\t<Stack\n\t\t\t\t\t\tmarginTop={5}\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tspacing={3}>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"h4\"\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tcolor: (theme) =>\n\t\t\t\t\t\t\t\t\t\ttheme.palette[color].darker,\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\tAll Elections\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto=\"/elections/new/\"\n\t\t\t\t\t\t\t\tstyle={{ textDecoration: \"none\" }}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" size=\"large\">\n\t\t\t\t\t\t\t\t\tAdd Election\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Stack>\n\n\t\t\t\t\t{elections.length === 0 && (\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\theight: \"70vh\",\n\t\t\t\t\t\t\t\tcolor: (theme) => theme.palette[color].darker,\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tThere are no elections to display right now.\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{elections.length > 0 && (\n\t\t\t\t\t\t<Grid container my={4} spacing={2} mb={4}>\n\t\t\t\t\t\t\t{elections.map((election, index) => (\n\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\txs={12}\n\t\t\t\t\t\t\t\t\tsm={6}\n\t\t\t\t\t\t\t\t\tmd={6}\n\t\t\t\t\t\t\t\t\tlg={6}\n\t\t\t\t\t\t\t\t\txl={6}>\n\t\t\t\t\t\t\t\t\t<ElectionCard id={index} title={election} />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</Box>\n\t);\n}\n\nexport default HomeScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}